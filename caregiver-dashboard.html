<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Caregiver Dashboard - Assured Hearts</title>
    <meta name="description" content="Manage your bookings, availability, and caregiver profile." />
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
    <nav class="navbar">
      <div class="nav-container">
        <div class="logo"><a href="index.html" style="display: flex; align-items: center; gap: 8px; text-decoration: none; color: inherit;"><img src="Assets/assured Hearts Logo.png" alt="Assured Hearts Logo"><span>Assured Hearts</span></a></div>
        <div class="nav-links">
          <a href="find-childcare.html">Find Childcare</a>
          <a href="become-provider.html">Join Our Care Network</a>
          <a href="care-process.html">Our Care Process</a>
          <a href="learning.html">At-Home Learning</a>
        </div>
        <div class="nav-auth">
          <a href="caregiver-dashboard.html" style="display: flex; align-items: center; gap: 6px; color: #06464E; text-decoration: none; font-weight: 600;">Dashboard</a>
          <button id="logoutBtn" class="btn-auth" style="background: #f5f5f5; color: #333;">Log out</button>
        </div>
        <button id="mobileMenuBtn" class="mobile-menu" aria-label="Open menu">
          <span></span>
          <span></span>
        </button>
      </div>
    </nav>

    <div id="mobileMenu" class="mobile-menu-panel hidden" aria-hidden="true">
      <button id="mobileMenuClose" class="mobile-menu-close" aria-label="Close menu">&times;</button>
      <nav class="mobile-nav">
        <a href="find-childcare.html">Find Childcare</a>
        <a href="become-provider.html">Join Our Care Network</a>
        <a href="care-process.html">Our Care Process</a>
        <a href="learning.html">At-Home Learning</a>
        <a href="caregiver-dashboard.html">Dashboard</a>
      </nav>
    </div>

    <header class="hero" style="padding: 48px 16px; background: linear-gradient(135deg, #f4fbfd 0%, #fff7f7 100%);">
      <div class="container" style="max-width: 1200px;">
        <h1 style="margin-bottom: 8px;">Welcome, Amina!</h1>
        <p class="lead" style="margin-bottom: 0;">Your caregiver hub for bookings, families, and learning resources</p>
      </div>
    </header>

    <main class="container" style="padding: 48px 24px; max-width: 1200px;">

      <section id="reviewNotice" style="display: none; background: #fff; border: 1px solid #e5e7eb; border-radius: 12px; padding: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.06); margin-bottom: 24px;">
        <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 12px;">
          <span style="width: 36px; height: 36px; border-radius: 50%; background: #fff9e6; color: #8b6914; display: inline-flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700;">â³</span>
          <div>
            <h2 style="margin: 0; color: #06464E; font-size: 16px;">Application under review</h2>
            <p style="margin: 4px 0 0 0; color: #6b7280; font-size: 13px;">We've received your application and will email you with next steps shortly. Actions are locked until approval.</p>
          </div>
        </div>
        <div id="reviewTimeline" style="display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: 6px; align-items: start;">
          <div class="step" data-step="0" style="display:flex; flex-direction:column; align-items:center; gap:4px; text-align:center; padding:6px;">
            <span class="label" style="font-size:12px; color:#374151; font-weight:700;">Received</span>
            <span class="dot" style="width: 14px; height: 14px; border-radius: 50%; border: 2px solid #d1d5db; background:#fff;"></span>
            <span class="desc" style="font-size:12px; color:#6b7280;">Your application is in our queue.</span>
          </div>
          <div class="step" data-step="1" style="display:flex; flex-direction:column; align-items:center; gap:4px; text-align:center; padding:6px;">
            <span class="label" style="font-size:12px; color:#374151; font-weight:700;">Under review</span>
            <span class="dot" style="width: 14px; height: 14px; border-radius: 50%; border: 2px solid #d1d5db; background:#fff;"></span>
            <span class="desc" style="font-size:12px; color:#6b7280;">Weâ€™re checking your details and availability.</span>
          </div>
          <div class="step" data-step="2" style="display:flex; flex-direction:column; align-items:center; gap:4px; text-align:center; padding:6px;">
            <span class="label" style="font-size:12px; color:#374151; font-weight:700;">Verifying</span>
            <span class="dot" style="width: 14px; height: 14px; border-radius: 50%; border: 2px solid #d1d5db; background:#fff;"></span>
            <span class="desc" style="font-size:12px; color:#6b7280;">Background and values alignment checks.</span>
          </div>
          <div class="step" data-step="3" style="display:flex; flex-direction:column; align-items:center; gap:4px; text-align:center; padding:6px;">
            <span class="label" style="font-size:12px; color:#374151; font-weight:700;">Approve</span>
            <span class="dot" style="width: 14px; height: 14px; border-radius: 50%; border: 2px solid #d1d5db; background:#fff;"></span>
            <span class="desc" style="font-size:12px; color:#6b7280;">Weâ€™ll email you and unlock your dashboard.</span>
          </div>
        </div>
      </section>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 10px; margin-bottom: 24px;">
        <div style="background:#fff; padding:14px; border-radius:10px; border:1px solid #e5e7eb; display:flex; flex-direction:column; gap:6px;">
          <div style="font-size:12px; color:#6b7280;">Active bookings</div>
          <div style="font-size:26px; font-weight:800; color:#06464E; line-height:1;">5</div>
        </div>
        <div style="background:#fff; padding:14px; border-radius:10px; border:1px solid #e5e7eb; display:flex; flex-direction:column; gap:6px;">
          <div style="font-size:12px; color:#6b7280;">Pending bookings</div>
          <div style="font-size:26px; font-weight:800; color:#92400e; line-height:1;">2</div>
        </div>
        <div style="background:#fff; padding:14px; border-radius:10px; border:1px solid #e5e7eb; display:flex; flex-direction:column; gap:6px;">
          <div style="font-size:12px; color:#6b7280;">Hours scheduled</div>
          <div style="font-size:26px; font-weight:800; color:#06464E; line-height:1;">42</div>
        </div>
        <div style="background:#fff; padding:14px; border-radius:10px; border:1px solid #e5e7eb; display:flex; flex-direction:column; gap:6px;">
          <div style="font-size:12px; color:#6b7280;">Total hours</div>
          <div style="font-size:26px; font-weight:800; color:#10b981; line-height:1;">68</div>
        </div>
        <div style="background:#fff; padding:14px; border-radius:10px; border:1px solid #e5e7eb; display:flex; flex-direction:column; gap:6px;">
          <div style="font-size:12px; color:#6b7280;">Earnings</div>
          <div style="font-size:26px; font-weight:800; color:#06464E; line-height:1;">$1,360</div>
        </div>
        <div style="background:#fff; padding:14px; border-radius:10px; border:1px solid #e5e7eb; display:flex; flex-direction:column; gap:6px;">
          <div style="font-size:12px; color:#6b7280;">Tips</div>
          <div style="font-size:26px; font-weight:800; color:#f59e0b; line-height:1;">$220</div>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: 2fr 1.2fr; gap: 20px; margin-bottom: 32px; align-items: start;">
        
        <section style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); border: 1px solid #e5e7eb;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
            <h2 style="margin: 0; color: #06464E;">My Requests</h2>
            <span style="background:#eef2ff; color:#4338ca; padding:4px 10px; border-radius:999px; font-size:12px; font-weight:700;">3 new</span>
          </div>
          <div style="display: grid; gap: 10px;">
            <div style="border: 1px solid #e5e7eb; border-radius: 10px; padding: 12px; display: grid; gap: 6px;">
              <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
                <div>
                  <div style="font-weight:700; color:#06464E;">Rahman Family</div>
                  <div style="font-size:12px; color:#6b7280;">Jan 4 Â· 3:00â€“6:00 PM Â· 1 child (7y)</div>
                </div>
                <span style="background:#fff9e6; color:#8b6914; padding:4px 8px; border-radius:6px; font-size:12px; font-weight:700;">Pending</span>
              </div>
              <div style="font-size:12px; color:#6b7280;">Location: Oak Ave Â· Notes: After-school help</div>
              <div style="display:flex; gap:8px; flex-wrap:wrap;">
                <button class="review-lock" style="padding: 8px 12px; background: #06464E; color: white; border: none; border-radius: 6px; font-size: 12px; font-weight: 700;">Accept</button>
                <button class="review-lock" style="padding: 8px 12px; background: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 6px; font-size: 12px; font-weight: 700;">Decline</button>
                <button class="review-lock" style="padding: 8px 12px; background: #eef2ff; color: #4338ca; border: 1px solid #e0e7ff; border-radius: 6px; font-size: 12px; font-weight: 700;">See details</button>
              </div>
            </div>
            <div style="border: 1px solid #e5e7eb; border-radius: 10px; padding: 12px; display: grid; gap: 6px;">
              <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
                <div>
                  <div style="font-weight:700; color:#06464E;">Ahmed Family</div>
                  <div style="font-size:12px; color:#6b7280;">Jan 6 Â· 9:00â€“1:00 PM Â· 2 kids (3,5)</div>
                </div>
                <span style="background:#eef7f2; color:#2d6b42; padding:4px 8px; border-radius:6px; font-size:12px; font-weight:700;">Matched</span>
              </div>
              <div style="font-size:12px; color:#6b7280;">Location: Maple St Â· Notes: Lunch + reading</div>
              <div style="display:flex; gap:8px; flex-wrap:wrap;">
                <button class="review-lock" style="padding: 8px 12px; background: #06464E; color: white; border: none; border-radius: 6px; font-size: 12px; font-weight: 700;">Accept</button>
                <button class="review-lock" style="padding: 8px 12px; background: #f5f5f5; color: #666; border: 1px solid #ddd; border-radius: 6px; font-size: 12px; font-weight: 700;">Decline</button>
                <button class="review-lock" style="padding: 8px 12px; background: #eef2ff; color: #4338ca; border: 1px solid #e0e7ff; border-radius: 6px; font-size: 12px; font-weight: 700;">See details</button>
              </div>
            </div>
          </div>
        </section>

        <section style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); border: 1px solid #e5e7eb;">
          <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
            <h2 style="margin:0; color:#06464E;">Messages</h2>
            <span style="background:#fef3c7; color:#92400e; padding:4px 8px; border-radius:6px; font-size:12px; font-weight:700;">2 unread</span>
          </div>
          <div style="display: grid; gap: 10px;">
            <div style="border:1px solid #e5e7eb; border-radius:8px; padding:10px; display:flex; gap:10px; align-items:flex-start;">
              <div style="width:36px; height:36px; border-radius:50%; background:linear-gradient(135deg,#67B3C2 0%,#06464E 100%); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700;">A</div>
              <div style="flex:1;">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                  <div style="font-weight:700; color:#06464E;">Ahmed Family</div>
                  <span style="font-size:12px; color:#6b7280;">10:24 AM</span>
                </div>
                <p style="margin:4px 0 0 0; color:#6b7280; font-size:13px;">Thanks for confirming. Can we adjust drop-off to 9:15?</p>
              </div>
            </div>
            <div style="border:1px solid #e5e7eb; border-radius:8px; padding:10px; display:flex; gap:10px; align-items:flex-start;">
              <div style="width:36px; height:36px; border-radius:50%; background:linear-gradient(135deg,#67B3C2 0%,#06464E 100%); color:#fff; display:flex; align-items:center; justify-content:center; font-weight:700;">R</div>
              <div style="flex:1;">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                  <div style="font-weight:700; color:#06464E;">Rahman Family</div>
                  <span style="font-size:12px; color:#6b7280;">Yesterday</span>
                </div>
                <p style="margin:4px 0 0 0; color:#6b7280; font-size:13px;">Hi! Can you share your availability for next week?</p>
              </div>
            </div>
            <button class="review-lock" style="padding: 10px 12px; background:#06464E; color:white; border:none; border-radius:8px; font-size:13px; font-weight:700; width:100%;">Open messages</button>
          </div>
        </section>

      </div>

      <section style="background: white; padding: 24px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); border: 1px solid #e5e7eb; margin-bottom: 32px;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
          <h2 style="margin:0; color:#06464E;">My upcoming appointments</h2>
          <a href="#" class="review-lock" style="font-size:12px; color:#06464E; text-decoration:none; font-weight:700;">Manage availability</a>
        </div>
        <div style="display:grid; gap:10px;">
          <div style="border:1px solid #e5e7eb; border-radius:10px; padding:12px; display:grid; gap:4px;">
            <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
              <div style="font-weight:700; color:#06464E;">Ahmed Family</div>
              <span style="background:#eef7f2; color:#2d6b42; padding:4px 8px; border-radius:6px; font-size:12px; font-weight:700;">Confirmed</span>
            </div>
            <div style="font-size:12px; color:#6b7280;">Tomorrow Â· 9:00 AM - 1:00 PM Â· 2 kids (3,5)</div>
            <div style="font-size:12px; color:#6b7280;">ğŸ“ 123 Maple St Â· Notes: Lunch + reading</div>
          </div>
          <div style="border:1px solid #e5e7eb; border-radius:10px; padding:12px; display:grid; gap:4px;">
            <div style="display:flex; justify-content:space-between; align-items:center; gap:8px;">
              <div style="font-weight:700; color:#06464E;">Rahman Family</div>
              <span style="background:#fff9e6; color:#8b6914; padding:4px 8px; border-radius:6px; font-size:12px; font-weight:700;">Pending</span>
            </div>
            <div style="font-size:12px; color:#6b7280;">Jan 4 Â· 3:00 PM - 6:00 PM Â· 1 child (7y)</div>
            <div style="font-size:12px; color:#6b7280;">ğŸ“ Oak Ave Â· Notes: After-school help</div>
          </div>
        </div>
      </section>

      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 24px;">
        
        <section style="background: white; padding: 28px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
          <h2 style="margin: 0 0 16px 0; color: #06464E;">Your Families</h2>
          
          <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 14px; margin-bottom: 10px;">
            <div style="display: flex; align-items: center; gap: 10px;">
              <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #67B3C2 0%, #06464E 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: 700;">A</div>
              <div style="flex: 1;">
                <h3 style="margin: 0; color: #06464E; font-size: 15px;">Ahmed Family</h3>
                <p style="margin: 0; color: #666; font-size: 13px;">2 children Â· Regular booking</p>
              </div>
            </div>
          </div>

          <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 14px; margin-bottom: 10px;">
            <div style="display: flex; align-items: center; gap: 10px;">
              <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #67B3C2 0%, #06464E 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: 700;">R</div>
              <div style="flex: 1;">
                <h3 style="margin: 0; color: #06464E; font-size: 15px;">Rahman Family</h3>
                <p style="margin: 0; color: #666; font-size: 13px;">1 child Â· Weekly booking</p>
              </div>
            </div>
          </div>

          <div style="border: 1px solid #e5e7eb; border-radius: 8px; padding: 14px;">
            <div style="display: flex; align-items: center; gap: 10px;">
              <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #67B3C2 0%, #06464E 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 16px; font-weight: 700;">K</div>
              <div style="flex: 1;">
                <h3 style="margin: 0; color: #06464E; font-size: 15px;">Khan Family</h3>
                <p style="margin: 0; color: #666; font-size: 13px;">3 children Â· Occasional</p>
              </div>
            </div>
          </div>
        </section>

        <section style="background: white; padding: 28px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08);">
          <h2 style="margin: 0 0 16px 0; color: #06464E;">Curriculum Access</h2>
          <p style="margin: 0 0 16px 0; color: #666; line-height: 1.6;">Access learning activities and resources to guide children during care sessions.</p>
          <div style="display: grid; gap: 10px;">
            <a href="learning.html" style="display: block; padding: 12px 14px; background: #f8fbfc; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: #06464E; font-weight: 600;">
              ğŸ“– Prophet Stories
            </a>
            <a href="learning.html" style="display: block; padding: 12px 14px; background: #f8fbfc; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: #06464E; font-weight: 600;">
              ğŸ¤² Salah Basics
            </a>
            <a href="learning.html" style="display: block; padding: 12px 14px; background: #f8fbfc; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: #06464E; font-weight: 600;">
              âœ¨ Kindness Activities
            </a>
            <a href="learning.html" style="display: block; padding: 12px 14px; background: #f8fbfc; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: #06464E; font-weight: 600;">
              ğŸ”¤ Arabic Letters
            </a>
          </div>
        </section>

      </div>

    </main>

    <footer style="background: #06464E; color: white; padding: 32px 24px; text-align: center; margin-top: 48px;">
      <p style="margin: 0;">Â© 2025 Assured Hearts. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
    <script>
      document.getElementById('logoutBtn')?.addEventListener('click', () => {
        if(confirm('Are you sure you want to log out?')) {
          window.location.href = 'index.html';
        }
      });

      (function(){
        const status = localStorage.getItem('provider_status') || 'under_review';
        const notice = document.getElementById('reviewNotice');
        const lockables = document.querySelectorAll('.review-lock');
        const steps = document.querySelectorAll('#reviewTimeline .step');
        const dots = document.querySelectorAll('#reviewTimeline .dot');
        const statusToIndex = { received:0, under_review:1, verifying:2, approved:3 };
        const activeIndex = statusToIndex[status] ?? 1;

        if(status !== 'approved'){
          if(notice) notice.style.display = 'block';
          lockables.forEach(el => {
            el.style.opacity = '0.55';
            el.style.pointerEvents = 'none';
            el.style.cursor = 'not-allowed';
            if(el.tagName === 'BUTTON'){
              el.setAttribute('disabled', 'disabled');
            } else {
              el.setAttribute('aria-disabled', 'true');
            }
          });
          dots.forEach((dot, idx)=>{
            if(idx < activeIndex){
              dot.style.background = '#2d6b42';
              dot.style.borderColor = '#2d6b42';
            } else if(idx === activeIndex){
              dot.style.background = '#67B3C2';
              dot.style.borderColor = '#67B3C2';
            }
          });
          steps.forEach((step, idx)=>{
            const label = step.querySelector('.label');
            const desc = step.querySelector('.desc');
            if(idx < activeIndex){
              if(label){ label.style.color = '#2d6b42'; label.style.fontWeight = '700'; }
              if(desc){ desc.style.color = '#2d6b42'; }
            } else if(idx === activeIndex){
              if(label){ label.style.color = '#06464E'; label.style.fontWeight = '700'; }
              if(desc){ desc.style.color = '#06464E'; }
            } else {
              if(label){ label.style.color = '#6b7280'; label.style.fontWeight = '600'; }
              if(desc){ desc.style.color = '#9ca3af'; }
              // On mobile, hide descriptions for future steps until tapped
              if(window.matchMedia('(max-width: 640px)').matches && desc){
                desc.style.display = 'none';
                step.style.cursor = 'pointer';
                step.onclick = ()=>{
                  desc.style.display = desc.style.display === 'none' ? 'block' : 'none';
                };
              }
            }
          });
        } else if(notice){
          notice.style.display = 'none';
        }
      })();
    </script>
  </body>
</html>
